<?xml version="1.0" encoding="utf-8"?>
<Patch>

  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Biotech</li>
    </mods>
    <match Class="PatchOperationSequence">
      <success>Normal</success>
      <operations>

        <li Class="PatchOperationAdd">
          <xpath>Defs/RecipeDef[defName = "ResurrectHeavyMech"]/fixedIngredientFilter/thingDefs</xpath>
          <value>
            <li>Corpse_APM_Mech_Aegis</li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>Defs/RecipeDef[defName = "ResurrectMediumMech"]/fixedIngredientFilter/thingDefs</xpath>
          <value>
            <li>Corpse_APM_Mech_Conqueror_AR</li>
            <li>Corpse_APM_Mech_Conqueror_DMR</li>
            <li>Corpse_APM_Mech_Vassal</li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>Defs/ThingDef[defName = "LargeMechGestator"]/recipes</xpath>
          <value>
            <li>APM_Mech_Aegis</li>
            <li>APM_Mech_Conqueror_AR</li>
            <li>APM_Mech_Conqueror_DMR</li>
            <li>APM_Mech_Vassal</li>
            <li>APM_Mech_Ravager</li>
          </value>
        </li>

        <li Class="PatchOperationAdd">
          <xpath>Defs</xpath>
          <value>

            <RecipeDef ParentName="HeavyMechanoidRecipe">
              <defName>APM_Mech_Aegis</defName>
              <label>gestate aegis</label>
              <description>Gestate an aegis mechanoid.</description>
              <researchPrerequisite>HighMechtech</researchPrerequisite>
              <ingredients Inherit="False">
                <li>
                  <filter>
                    <thingDefs>
                      <li>Steel</li>
                    </thingDefs>
                  </filter>
                  <count>150</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>Plasteel</li>
                    </thingDefs>
                  </filter>
                  <count>80</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>ComponentIndustrial</li>
                    </thingDefs>
                  </filter>
                  <count>3</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>SubcoreHigh</li>
                    </thingDefs>
                  </filter>
                  <count>1</count>
                </li>
              </ingredients>
              <products>
                <APM_Mech_Aegis>1</APM_Mech_Aegis>
              </products>
              <descriptionHyperlinks>
                <ThingDef>APM_Mech_Aegis</ThingDef>
              </descriptionHyperlinks>
            </RecipeDef>

            <RecipeDef ParentName="MediumMechanoidRecipe">
              <defName>APM_Mech_Conqueror_DMR</defName>
              <label>gestate DMR conqueror</label>
              <description>Gestate a conqueror mechanoid with a high powered DMR.</description>
              <researchPrerequisite>StandardMechtech</researchPrerequisite>
              <ingredients Inherit="False">
                <li>
                  <filter>
                    <thingDefs>
                      <li>Steel</li>
                    </thingDefs>
                  </filter>
                  <count>75</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>Plasteel</li>
                    </thingDefs>
                  </filter>
                  <count>25</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>ComponentIndustrial</li>
                    </thingDefs>
                  </filter>
                  <count>1</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>SubcoreRegular</li>
                    </thingDefs>
                  </filter>
                  <count>1</count>
                </li>
              </ingredients>
              <products>
                <APM_Mech_Conqueror_DMR>1</APM_Mech_Conqueror_DMR>
              </products>
              <descriptionHyperlinks>
                <ThingDef>APM_Mech_Conqueror_DMR</ThingDef>
              </descriptionHyperlinks>
            </RecipeDef>

            <RecipeDef ParentName="MediumMechanoidRecipe">
              <defName>APM_Mech_Conqueror_AR</defName>
              <label>gestate autorifle conqueror</label>
              <description>Gestate a conqueror mechanoid with a rifle.</description>
              <researchPrerequisite>StandardMechtech</researchPrerequisite>
              <ingredients Inherit="False">
                <li>
                  <filter>
                    <thingDefs>
                      <li>Steel</li>
                    </thingDefs>
                  </filter>
                  <count>75</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>Plasteel</li>
                    </thingDefs>
                  </filter>
                  <count>25</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>ComponentIndustrial</li>
                    </thingDefs>
                  </filter>
                  <count>1</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>SubcoreRegular</li>
                    </thingDefs>
                  </filter>
                  <count>1</count>
                </li>
              </ingredients>
              <products>
                <APM_Mech_Conqueror_AR>1</APM_Mech_Conqueror_AR>
              </products>
              <descriptionHyperlinks>
                <ThingDef>APM_Mech_Conqueror_AR</ThingDef>
              </descriptionHyperlinks>
            </RecipeDef>

            <RecipeDef ParentName="HeavyMechanoidRecipe">
              <defName>APM_Mech_Gazer</defName>
              <label>gestate gazer</label>
              <description>Gestate a gazer mechanoid.</description>
              <researchPrerequisite>HighMechtech</researchPrerequisite>
              <ingredients Inherit="False">
                <li>
                  <filter>
                    <thingDefs>
                      <li>Steel</li>
                    </thingDefs>
                  </filter>
                  <count>150</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>Plasteel</li>
                    </thingDefs>
                  </filter>
                  <count>80</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>ComponentIndustrial</li>
                    </thingDefs>
                  </filter>
                  <count>3</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>SubcoreHigh</li>
                    </thingDefs>
                  </filter>
                  <count>1</count>
                </li>
              </ingredients>
              <products>
                <APM_Mech_Gazer>1</APM_Mech_Gazer>
              </products>
              <descriptionHyperlinks>
                <ThingDef>APM_Mech_Gazer</ThingDef>
              </descriptionHyperlinks>
            </RecipeDef>

            <RecipeDef ParentName="MediumMechanoidRecipe">
              <defName>APM_Mech_Vassal</defName>
              <label>gestate vassal</label>
              <description>Gestate a vassal mechanoid with a sword rifle.</description>
              <researchPrerequisite>StandardMechtech</researchPrerequisite>
              <ingredients Inherit="False">
                <li>
                  <filter>
                    <thingDefs>
                      <li>Steel</li>
                    </thingDefs>
                  </filter>
                  <count>75</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>Plasteel</li>
                    </thingDefs>
                  </filter>
                  <count>25</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>ComponentIndustrial</li>
                    </thingDefs>
                  </filter>
                  <count>1</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>SubcoreRegular</li>
                    </thingDefs>
                  </filter>
                  <count>1</count>
                </li>
              </ingredients>
              <products>
                <APM_Mech_Vassal>1</APM_Mech_Vassal>
              </products>
              <descriptionHyperlinks>
                <ThingDef>APM_Mech_Vassal</ThingDef>
              </descriptionHyperlinks>
            </RecipeDef>

            <RecipeDef ParentName="HeavyMechanoidRecipe">
              <defName>APM_Mech_Ravager</defName>
              <label>gestate Ravager</label>
              <description>Gestate an Ravager mechanoid.</description>
              <researchPrerequisite>HighMechtech</researchPrerequisite>
              <ingredients Inherit="False">
                <li>
                  <filter>
                    <thingDefs>
                      <li>Steel</li>
                    </thingDefs>
                  </filter>
                  <count>150</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>Plasteel</li>
                    </thingDefs>
                  </filter>
                  <count>80</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>ComponentIndustrial</li>
                    </thingDefs>
                  </filter>
                  <count>3</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>SubcoreHigh</li>
                    </thingDefs>
                  </filter>
                  <count>1</count>
                </li>
              </ingredients>
              <products>
                <APM_Mech_Ravager>1</APM_Mech_Ravager>
              </products>
              <descriptionHyperlinks>
                <ThingDef>APM_Mech_Ravager</ThingDef>
              </descriptionHyperlinks>
            </RecipeDef>

            <RecipeDef ParentName="HeavyMechanoidRecipe">
              <defName>APM_Mech_Siren</defName>
              <label>gestate Siren</label>
              <description>Gestate an Siren mechanoid.</description>
              <researchPrerequisite>HighMechtech</researchPrerequisite>
              <ingredients Inherit="False">
                <li>
                  <filter>
                    <thingDefs>
                      <li>Steel</li>
                    </thingDefs>
                  </filter>
                  <count>150</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>Plasteel</li>
                    </thingDefs>
                  </filter>
                  <count>80</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>ComponentIndustrial</li>
                    </thingDefs>
                  </filter>
                  <count>3</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>SubcoreHigh</li>
                    </thingDefs>
                  </filter>
                  <count>1</count>
                </li>
              </ingredients>
              <products>
                <APM_Mech_Siren>1</APM_Mech_Siren>
              </products>
              <descriptionHyperlinks>
                <ThingDef>APM_Mech_Siren</ThingDef>
              </descriptionHyperlinks>
            </RecipeDef>

            <RecipeDef ParentName="HeavyMechanoidRecipe">
              <defName>APM_Mech_Terminus</defName>
              <label>gestate Terminus</label>
              <description>Gestate an Terminus mechanoid.</description>
              <researchPrerequisite>HighMechtech</researchPrerequisite>
              <ingredients Inherit="False">
                <li>
                  <filter>
                    <thingDefs>
                      <li>Steel</li>
                    </thingDefs>
                  </filter>
                  <count>150</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>Plasteel</li>
                    </thingDefs>
                  </filter>
                  <count>80</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>ComponentIndustrial</li>
                    </thingDefs>
                  </filter>
                  <count>3</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>SubcoreHigh</li>
                    </thingDefs>
                  </filter>
                  <count>1</count>
                </li>
              </ingredients>
              <products>
                <APM_Mech_Terminus>1</APM_Mech_Terminus>
              </products>
              <descriptionHyperlinks>
                <ThingDef>APM_Mech_Terminus</ThingDef>
              </descriptionHyperlinks>
            </RecipeDef>

            <RecipeDef ParentName="HeavyMechanoidRecipe">
              <defName>APM_Mech_Celerus</defName>
              <label>gestate Celerus</label>
              <description>Gestate an Celerus mechanoid. Ninja Robot!</description>
              <researchPrerequisite>HighMechtech</researchPrerequisite>
              <ingredients Inherit="False">
                <li>
                  <filter>
                    <thingDefs>
                      <li>Steel</li>
                    </thingDefs>
                  </filter>
                  <count>150</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>Plasteel</li>
                    </thingDefs>
                  </filter>
                  <count>80</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>ComponentIndustrial</li>
                    </thingDefs>
                  </filter>
                  <count>3</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>SubcoreHigh</li>
                    </thingDefs>
                  </filter>
                  <count>1</count>
                </li>
              </ingredients>
              <products>
                <APM_Mech_Celerus>1</APM_Mech_Celerus>
              </products>
              <descriptionHyperlinks>
                <ThingDef>APM_Mech_Celerus</ThingDef>
              </descriptionHyperlinks>
            </RecipeDef>
            
            <RecipeDef ParentName="HeavyMechanoidRecipe">
              <defName>APM_Mech_Dominus</defName>
              <label>gestate Dominus</label>
              <description>Gestate an Dominus mechanoid. Ninja Robot!</description>
              <researchPrerequisite>HighMechtech</researchPrerequisite>
              <ingredients Inherit="False">
                <li>
                  <filter>
                    <thingDefs>
                      <li>Steel</li>
                    </thingDefs>
                  </filter>
                  <count>150</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>Plasteel</li>
                    </thingDefs>
                  </filter>
                  <count>80</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>ComponentIndustrial</li>
                    </thingDefs>
                  </filter>
                  <count>3</count>
                </li>
                <li>
                  <filter>
                    <thingDefs>
                      <li>SubcoreHigh</li>
                    </thingDefs>
                  </filter>
                  <count>1</count>
                </li>
              </ingredients>
              <products>
                <APM_Mech_Dominus>1</APM_Mech_Dominus>
              </products>
              <descriptionHyperlinks>
                <ThingDef>APM_Mech_Dominus</ThingDef>
              </descriptionHyperlinks>
            </RecipeDef>

          </value>
        </li>
      </operations>
    </match>
  </Operation>

</Patch>