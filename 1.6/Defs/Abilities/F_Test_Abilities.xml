<?xml version="1.0" encoding="utf-8" ?>
<Defs>
 
	<!-- please edit this and make proper labels and descriptions thanks -->
	
	
	<!-- "targeting" for pinpoint mech -->
	
	<AbilityDef>
        <defName>APEXM_Ability_GiveAccuracyHediff</defName>
        <label>give accuracy hediff</label>
        <description>.</description>
        <iconPath>Things/Mote/SpeechSymbols/Speech</iconPath>
        <cooldownTicksRange>60</cooldownTicksRange>
        <hostile>true</hostile>
		<writeCombatLog>true</writeCombatLog>
		<aiCanUse>true</aiCanUse>
        <verbProperties>
            <verbClass>Verb_CastAbility</verbClass>
            <range>12.9</range>
            <warmupTime>0.5</warmupTime>
            <requireLineOfSight>False</requireLineOfSight>
            <soundCast>Pawn_Cat_Call</soundCast>
            <targetParams>
                <canTargetBuildings>false</canTargetBuildings>
            </targetParams>
        </verbProperties>
        <comps>
            <li Class="CompProperties_AbilityGiveHediff">
                <compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>APEXM_TestAccuracyHediff</hediffDef>
            </li>
        </comps>
    </AbilityDef>
	
	
	<!-- "true sight" for pinpoint mech -->
	
	<AbilityDef>
        <defName>APEXM_Ability_RevealInvisible</defName>
        <label>reveal invisible</label>
        <description>.</description>
        <iconPath>Things/Mote/SpeechSymbols/Speech</iconPath>
        <cooldownTicksRange>60</cooldownTicksRange>
        <hostile>true</hostile>
		<writeCombatLog>true</writeCombatLog>
		<aiCanUse>true</aiCanUse>
		<canUseAoeToGetTargets>true</canUseAoeToGetTargets>
		<statBases>
			<Ability_EffectRadius>9.9</Ability_EffectRadius> <!-- this should make it possible to pick targets from AoE to push -->
		</statBases>
        <verbProperties>
            <verbClass>Verb_CastAbility</verbClass>
            <range>9.9</range>
            <warmupTime>0.5</warmupTime>
            <requireLineOfSight>False</requireLineOfSight>
            <soundCast>Pawn_Cat_Call</soundCast>
            <targetParams>
                <canTargetBuildings>false</canTargetBuildings>
            </targetParams>
        </verbProperties>
        <comps>
            <li Class="ApexMechanoidsF.CompProperties_AbilityRevealInvisibility"> <!-- should reveal invisible pawns -->
                <instant>false</instant>
            </li>
        </comps>
    </AbilityDef>
 
 
	<!-- "dashing" pawnFlyer with rope -->
	
	<ThingDef ParentName="PawnFlyerBase">
		<defName>APEXM_DashingPawn</defName>
		<label>dashing</label>
		  <thingClass>ApexMechanoidsF.PawnFlyerExtended</thingClass>
		  <drawGUIOverlay>true</drawGUIOverlay>
		<pawnFlyer>
		  <flightDurationMin>0.25</flightDurationMin>
		  <flightSpeed>20</flightSpeed>
		  <workerClass>PawnFlyerWorker</workerClass>
		  <heightFactor>0.05</heightFactor> <!-- low altitude -->
		  <progressCurve>
			<points>
			  <li>(0, 0)</li>
			  <li>(0.1, 0.15)</li>
			  <li>(1, 1)</li>
			</points>
		  </progressCurve>
		</pawnFlyer>
		<modExtensions>
			<li Class="ApexMechanoidsF.ModExt_PawnFlyerExt"> <!-- draw rope when dashing -->
				<rope>true</rope>
			</li>
		</modExtensions>
	</ThingDef>
  
	<!-- Primary: dash (then push) -->
	
	<AbilityDef>
		<defName>APEXM_Ability_DashAndPush</defName>
		<label>dash and push</label>
		<description>.</description>
		<iconPath>Things/Mote/SpeechSymbols/Speech</iconPath>
		<cooldownTicksRange>120</cooldownTicksRange>
		<writeCombatLog>true</writeCombatLog>
		<aiCanUse>true</aiCanUse>
		<canUseAoeToGetTargets>false</canUseAoeToGetTargets>
		<writeCombatLog>true</writeCombatLog>
		<aiCanUse>true</aiCanUse>
		<verbProperties>
			<verbClass>ApexMechanoidsF.Verb_CastAbilityJumpExt</verbClass>
			<spawnDef>APEXM_DashingPawn</spawnDef> <!-- make another that damages pawns on path -->
			<soundCast>Pawn_Cat_Call</soundCast>
			<warmupTime>0</warmupTime>
			<noiseRadius>6</noiseRadius>
			<range>9.9</range>
			<targetParams>
				<!-- <canTargetLocations>true</canTargetLocations> -->
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="ApexMechanoidsF.CompProperties_AbilityFlyerQueueAbility">
			  <abilityOnFinish>
				<li>APEXM_Ability_Push</li> <!-- only 1 follow-up for jumps -->
			  </abilityOnFinish>
			</li>
		</comps>
	</AbilityDef>
	
	
	<!-- Follow-up: push -->
	
	<AbilityDef>
        <defName>APEXM_Ability_Push</defName>
        <label>push</label>
        <description>.</description>
        <iconPath>Things/Mote/SpeechSymbols/Speech</iconPath>
        <cooldownTicksRange>60</cooldownTicksRange>
        <hostile>true</hostile>
		<writeCombatLog>true</writeCombatLog>
		<aiCanUse>true</aiCanUse>
		<canUseAoeToGetTargets>true</canUseAoeToGetTargets>
		<statBases>
			<Ability_EffectRadius>0.9</Ability_EffectRadius> <!-- this should make it possible to pick targets from AoE to push -->
		</statBases>
        <verbProperties>
            <verbClass>Verb_CastAbility</verbClass>
            <range>0.9</range>
            <warmupTime>0.1</warmupTime>
            <requireLineOfSight>false</requireLineOfSight>
            <soundCast>Longjump_Jump</soundCast>
            <targetParams>
                <canTargetSelf>false</canTargetSelf>
                <canTargetBuildings>false</canTargetBuildings>
            </targetParams>
        </verbProperties>
        <comps>
            <li Class="EBSGFramework.CompProperties_AbilityPushTarget">
                <range>5</range>
                <soundLanding>Longjump_Land</soundLanding>
                <destination>RandomInRange</destination>
            </li>
        </comps>
    </AbilityDef>
	
	
	<!-- Siren Lure -->
	
	<AbilityDef>
        <defName>APEXM_Ability_SirenLure</defName>
        <label>siren lure</label>
        <description>.</description>
        <iconPath>Things/Mote/SpeechSymbols/Speech</iconPath>
        <cooldownTicksRange>60</cooldownTicksRange>
        <hostile>true</hostile>
		<writeCombatLog>true</writeCombatLog>
		<aiCanUse>true</aiCanUse>
        <verbProperties>
            <verbClass>Verb_CastAbility</verbClass>
            <range>29.9</range>
            <warmupTime>0.5</warmupTime>
            <requireLineOfSight>False</requireLineOfSight>
            <soundCast>Pawn_Cat_Call</soundCast>
            <targetParams>
                <canTargetSelf>False</canTargetSelf>
                <canTargetBuildings>False</canTargetBuildings>
				<canTargetLocations>False</canTargetLocations>
				<canTargetAnimals>False</canTargetAnimals>
            </targetParams>
        </verbProperties>
		<statBases>
			<Ability_Duration>10</Ability_Duration>
			<Ability_EffectRadius>0.9</Ability_EffectRadius>
		</statBases>
        <comps>
            <li Class="CompProperties_AbilityForceJob">
				<compClass>CompAbilityEffect_ForceJob</compClass>
                <jobDef>GotoMindControlled</jobDef>
				<destination>Caster</destination>
				<range>0.9</range>
            </li>
        </comps>
    </AbilityDef>
</Defs>