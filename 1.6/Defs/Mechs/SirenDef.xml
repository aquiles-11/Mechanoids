<?xml version="1.0" encoding="UTF-8"?>


<Defs>

  <ThingDef ParentName="BaseMechanoidWalker">
    <defName>Mech_Siren</defName>
    <label>Siren</label>
    <description>PLACEHOLDER</description>
    <tools>
      <li>
        <label>left fist</label>
        <labelNoLocation>fist</labelNoLocation>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>12.0</power>
        <cooldownTime>2</cooldownTime>
        <linkedBodyPartsGroup>LeftHand</linkedBodyPartsGroup>
        <alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
      </li>
      <li>
        <label>right fist</label>
        <labelNoLocation>fist</labelNoLocation>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>12.0</power>
        <cooldownTime>2</cooldownTime>
        <linkedBodyPartsGroup>RightHand</linkedBodyPartsGroup>
        <alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
      </li>
      <li>
        <label>head</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>8.5</power>
        <cooldownTime>2</cooldownTime>
        <linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
        <chanceFactor>0.2</chanceFactor>
      </li>
    </tools>
    <race>
      <body>Vassal</body>
      <baseHealthScale>1</baseHealthScale>
      <detritusLeavings>
        <li>
          <def>ChunkMechanoidSlag</def>
          <texOverrideIndex>11</texOverrideIndex>
          <spawnChance>0.1</spawnChance>
        </li>
        <li>
          <def>ChunkMechanoidSlag</def>
          <texOverrideIndex>12</texOverrideIndex>
          <spawnChance>0.1</spawnChance>
        </li>
      </detritusLeavings>
    </race>
    <statBases>
      <BandwidthCost MayRequire="Ludeon.RimWorld.Biotech">2</BandwidthCost>
    </statBases>
  </ThingDef>

  <PawnKindDef ParentName="BaseMechanoidKind">
    <defName>Mech_Siren</defName>
    <label>Siren</label>
    <race>Mech_Siren</race>
    <combatPower>190</combatPower>
    <lifeStages>
      <li MayRequire="Ludeon.RimWorld.Biotech">
        <bodyGraphicData>
          <texPath>Mechs/Siren/Siren</texPath>
          <maskPath>Mechs/Overlays/Siren_Overlay/Mech_Siren</maskPath>
          <shaderType>CutoutWithOverlay</shaderType>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>1.5</drawSize>
          <shadowData>
            <volume>(0.4, 0.8, 0.4)</volume>
          </shadowData>
        </bodyGraphicData>
      </li>
      <li>
        <bodyGraphicData>
          <texPath>Mechs/Siren/SirenAncient</texPath>
          <maskPath>Mechs/Overlays/Siren_Overlay/Mech_Siren</maskPath>
          <shaderType>CutoutWithOverlay</shaderType>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>1.5</drawSize>
          <shadowData>
            <volume>(0.4, 0.8, 0.4)</volume>
          </shadowData>
        </bodyGraphicData>
      </li>
    </lifeStages>
    <techHediffsChance>1</techHediffsChance>
    <techHediffsMoney>9999~9999</techHediffsMoney>
		<abilities>
			<li>Mech_SirenSong</li>
		</abilities>
  </PawnKindDef>

	<AbilityDef>
		<defName>Mech_SirenSong</defName>
		<label>siren's song</label>
		<description>PLACEHOLDER</description>
		<iconPath>UI/SirenSong</iconPath>
		<cooldownTicksRange>900000</cooldownTicksRange> <!-- 15 days -->
		<targetRequired>false</targetRequired>
		<hostile>false</hostile>
		<casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
		<canUseAoeToGetTargets>true</canUseAoeToGetTargets>
		<showCastingProgressBar>true</showCastingProgressBar>
		<statBases>
			<Ability_EffectRadius>12</Ability_EffectRadius>
			<Ability_Duration>480</Ability_Duration>
		</statBases>
		<verbProperties>
			<verbClass>Verb_CastAbility</verbClass>
			<warmupTime>1</warmupTime>
			<range>12.9</range>
			<drawAimPie>false</drawAimPie>
			<targetParams>
				<canTargetSelf>true</canTargetSelf>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>Mech_SirenSong</hediffDef>
				<applyToSelf>false</applyToSelf>
				<ignoreSelf>true</ignoreSelf>
			</li>
			<li Class="ApexMechanoids.CompProperties_NeedOffset">
				<needDef>Rest</needDef>
				<offset>0.1</offset>
			</li>
		</comps>
	</AbilityDef>

	<HediffDef>
		<defName>Mech_SirenSong</defName>
		<label>siren's song</label>
		<description>PLACEHOLDER</description>
		<hediffClass>HediffWithComps</hediffClass>
		<comps>
			<li Class="HediffCompProperties_Disappears">
				<showRemainingTime>True</showRemainingTime>
			</li>
			<li Class="HediffCompProperties_DisappearsOnDeath"/>
		</comps>
		<isBad>false</isBad>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>0.05</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>0.1</offset>
					</li>
				</capMods>
			</li>
		</stages>
	</HediffDef>

	<ThoughtDef>
		<defName>Mech_SirenSong</defName>
		<workerClass>ThoughtWorker_Hediff</workerClass>
		<hediff>Mech_SirenSong</hediff>
		<validWhileDespawned>true</validWhileDespawned>
		<developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
		<stages>
			<li>
				<label>Siren's song</label>
				<description>PLACEHOLDER.</description>
				<baseMoodEffect>6</baseMoodEffect>
			</li>
		</stages>
	</ThoughtDef>
</Defs>